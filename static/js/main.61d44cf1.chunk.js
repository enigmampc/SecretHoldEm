(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{206:function(e,t){},337:function(e,t,a){e.exports=a(769)},342:function(e,t,a){},345:function(e,t){},368:function(e,t){},370:function(e,t){},421:function(e,t){},422:function(e,t){},466:function(e,t){},468:function(e,t){},517:function(e,t){},560:function(e,t,a){var n={"./2C.png":561,"./2D.png":562,"./2H.png":563,"./2S.png":564,"./3C.png":565,"./3D.png":566,"./3H.png":567,"./3S.png":568,"./4C.png":569,"./4D.png":570,"./4H.png":571,"./4S.png":572,"./5C.png":573,"./5D.png":574,"./5H.png":575,"./5S.png":576,"./6C.png":577,"./6D.png":578,"./6H.png":579,"./6S.png":580,"./7C.png":581,"./7D.png":582,"./7H.png":583,"./7S.png":584,"./8C.png":585,"./8D.png":586,"./8H.png":587,"./8S.png":588,"./9C.png":589,"./9D.png":590,"./9H.png":591,"./9S.png":592,"./AC.png":593,"./AD.png":594,"./AH.png":595,"./AS.png":596,"./BACK.png":597,"./JC.png":598,"./JD.png":599,"./JH.png":600,"./JS.png":601,"./KC.png":602,"./KD.png":603,"./KH.png":604,"./KS.png":605,"./QC.png":606,"./QD.png":607,"./QH.png":608,"./QS.png":609,"./TC.png":610,"./TD.png":611,"./TH.png":612,"./TS.png":613,"./extra/aces.png":614,"./extra/back.png":615,"./extra/bridge-back-blue.png":616,"./extra/bridge-back-gray.png":617,"./extra/bridge-back-green.png":618,"./extra/bridge-back-purple.png":619,"./extra/bridge-back-red.png":620,"./extra/bridge-back-yellow.png":621,"./extra/bridge-backs.png":622,"./extra/honor-clubs.png":623,"./extra/honor-diamonds.png":624,"./extra/honor-hearts.png":625,"./extra/honor-spades.png":626};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=560},627:function(e,t,a){var n={"./black.png":628,"./blue.png":629,"./green.png":630,"./red.png":631,"./white.png":632};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=627},633:function(e,t,a){var n={"./burlap.png":634,"./cardboard.png":635,"./default-light.png":636,"./default.png":637,"./fabric.png":638,"./felt.png":639,"./leather.png":640,"./noise.png":641,"./paper.png":642,"./pinstripe.png":643,"./slate.png":644,"./subtle.png":645,"./suede.png":646,"./twill.png":647};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=633},769:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(57),l=a.n(s),i=(a(342),a(12)),o=a.n(i),c=a(49),u=a(306),p=a(307),d=a(325),m=a(326),g=a(78),h=a(119),_=a(59),y=a(779),b=a(781),f=(a(648),new Intl.NumberFormat),v={game_address:window.location.hash.replace("#",""),all_rooms:[],community_cards:[],my_hand:[{},{}],player_a_hand:[{},{}],player_b_hand:[{},{}],player_a:"",player_a_bet:0,player_a_wallet:0,player_b:"",player_b_bet:0,player_b_wallet:0,stage:"",turn:"",new_room_name:""};function w(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,s=e.suit,l=e.value;return e.value&&e.suit?(s=s[0],t="Two"===l?"2":"Three"===l?"3":"Four"===l?"4":"Five"===l?"5":"Six"===l?"6":"Seven"===l?"7":"Eight"===l?"8":"Nine"===l?"9":"Ten"===l?"10":l[0],a?r.a.createElement(_.Card,{key:n,face:t,suit:s}):{face:t,suit:s}):a?r.a.createElement(_.Card,{key:n}):{}}var E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state=Object.assign({},v),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,l,i,u,p=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.onhashchange=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.setState({game_address:window.location.hash.replace("#","")}),""!==window.location.hash){e.next=4;break}return p.setState(Object.assign({},v)),e.abrupt("return");case 4:return e.prev=4,e.next=7,s.queryContractSmart(p.state.game_address,{get_my_hand:{secret:234}});case 7:t=e.sent,p.setState({my_hand:t}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])}))),(t=localStorage.getItem("mnemonic"))||(t=h.generateMnemonic(),localStorage.setItem("mnemonic",t)),t="web use october receive enforce desk stick arena toast vacuum swear spike about company dragon amused various glide ball maze anxiety lake umbrella light",(a=localStorage.getItem("tx_encryption_seed"))?a=Uint8Array.from(JSON.parse("[".concat(a,"]"))):(a=g.EnigmaUtils.GenerateNewSeed(),localStorage.setItem("tx_encryption_seed",a)),e.next=8,g.Secp256k1Pen.fromMnemonic(t);case 8:n=e.sent,r=g.pubkeyToAddress(g.encodeSecp256k1Pubkey(n.pubkey),"secret"),s=new g.SigningCosmWasmClient("https://bootstrap.int.testnet.enigma.co",r,(function(e){return n.sign(e)}),a,{init:{amount:[{amount:"0",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"0",denom:"uscrt"}],gas:"500000"}}),this.setState({secretJsClient:s,myWalletAddress:r,mnemonic:t}),l=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getContracts(9);case 2:t=e.sent,p.setState({all_rooms:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout(l,0),setInterval(l,1e3),setTimeout(Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==window.location.hash){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s.queryContractSmart(p.state.game_address,{get_my_hand:{secret:234}});case 5:t=e.sent,p.setState({my_hand:t}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])}))),0),i=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAccount(r);case 2:(t=e.sent)?p.setState({myWalletBalance:"(".concat(f.format(+t.balance[0].amount/1e6)," SCRT)")}):p.setState({myWalletBalance:"(No funds)"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout(i,0),setInterval(i,1e4),u=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==window.location.hash){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s.queryContractSmart(p.state.game_address,{get_public_data:{}});case 5:0===(t=e.sent).player_a_hand.length&&(t.player_a_hand=[{},{}]),0===t.player_b_hand.length&&(t.player_b_hand=[{},{}]),r===t.player_a&&p.setState({player_a_hand:p.state.my_hand,player_b_hand:t.player_b_hand}),r===t.player_b?p.setState({player_a_hand:t.player_a_hand,player_b_hand:p.state.my_hand}):p.setState({player_a_hand:t.player_a_hand,player_b_hand:t.player_b_hand}),p.setState({community_cards:t.community_cards,player_a:t.player_a,player_a_bet:t.player_a_bet,player_a_wallet:t.player_a_wallet,player_b:t.player_b,player_b_bet:t.player_b_bet,player_b_wallet:t.player_b_wallet,stage:t.stage,starter:t.starter,turn:t.turn}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),setTimeout(u,0),setInterval(u,3e3);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createRoom",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.secretJsClient.instantiate(9,{},this.state.new_room_name);case 2:this.setState({new_room_name:""});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(""===window.location.hash)return r.a.createElement("div",{style:{color:"white"}},r.a.createElement(_.Table,null,r.a.createElement("center",null,r.a.createElement("div",null,r.a.createElement(y.a.Input,{value:this.state.new_room_name,onChange:function(t,a){var n=a.value;return e.setState({new_room_name:n})}}),r.a.createElement(b.a,{onClick:this.createRoom.bind(this)},"Create!")),r.a.createElement("br",null),r.a.createElement("div",null,"All rooms"),this.state.all_rooms.map((function(e,t){return r.a.createElement("div",{key:t},e.label,": ",r.a.createElement("a",{href:"#"+e.address},e.address))})))));var t=this.state.stage;t.includes("EndedWinner")?(t=t.replace("EndedWinner",""),t="Player ".concat(t," Wins!")):t.includes("EndedDraw")?t="It's a Tie!":"WaitingForPlayersToJoin"===t?t=r.a.createElement("span",null,r.a.createElement("div",null,"Waiting for players"),r.a.createElement(b.a,null,"Join")):t&&(t+=" betting round");var a="Player A",n="->";this.state.turn===this.state.player_b&&(a="Player B",n="<-"),a="Turn: "+a,this.state.stage&&!this.state.stage.includes("Ended")||(a="",n=""),this.state.turn||(a="",n="");var s="";return this.state.game_address&&(s="Room: "+this.state.game_address),r.a.createElement("div",{style:{color:"white"}},r.a.createElement(_.Table,null,r.a.createElement("div",{style:{position:"absolute",top:0,left:0,padding:10}},r.a.createElement("div",null,"You: ",this.state.myWalletAddress," ",this.state.myWalletBalance)),r.a.createElement("div",{style:{position:"absolute",top:0,right:0,padding:10}},r.a.createElement("a",{href:"/#"},"Return to loby")),r.a.createElement("div",{style:{position:"absolute",left:"35vw"}},r.a.createElement("center",null,r.a.createElement("div",null,s),r.a.createElement("div",null,t),r.a.createElement("div",null,a),r.a.createElement("div",null,n)),r.a.createElement("br",null),this.state.community_cards.map((function(e,t){return w(e,!0,t)})),r.a.createElement("center",null,r.a.createElement("div",{style:{padding:35}},r.a.createElement("span",{style:{marginRight:250}},"Total Bet: ",f.format(this.state.player_a_bet)),r.a.createElement("span",null,"Total Bet: ",f.format(this.state.player_a_bet))))),r.a.createElement("center",null,r.a.createElement("div",{style:{position:"absolute",bottom:0,right:0,padding:10}},r.a.createElement("div",null,"Player A",this.state.player_a===this.state.myWalletAddress?" (You)":""),r.a.createElement("div",null,"Credits left: ",f.format(this.state.player_a_wallet)),r.a.createElement("div",null,this.state.player_a))),r.a.createElement(_.Hand,{style:{position:"absolute",right:"35vw"},cards:this.state.player_a_hand.map((function(e){return w(e)}))}),r.a.createElement("center",null,r.a.createElement("div",{style:{position:"absolute",bottom:0,left:600,padding:10}},r.a.createElement(b.a,{disabled:!this.state.turn||this.state.turn!==this.state.myWalletAddress},"Check"),r.a.createElement(b.a,{disabled:!this.state.turn||this.state.turn!==this.state.myWalletAddress},"Call"),r.a.createElement(b.a,{disabled:!this.state.turn||this.state.turn!==this.state.myWalletAddress},"Raise"),r.a.createElement(b.a,{disabled:!this.state.turn||this.state.turn!==this.state.myWalletAddress},"Fold"))),r.a.createElement("center",null,r.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,padding:10}},r.a.createElement("div",null,"Player B"," ",this.state.player_b===this.state.myWalletAddress?" (You)":""),r.a.createElement("div",null,"Credits left: ",f.format(this.state.player_b_wallet)),r.a.createElement("div",null,this.state.player_b))),r.a.createElement(_.Hand,{style:{position:"absolute",left:"23vw"},cards:this.state.player_b_hand.map((function(e){return w(e)}))})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[337,1,2]]]);
//# sourceMappingURL=main.61d44cf1.chunk.js.map