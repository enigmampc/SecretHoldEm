(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{110:function(e,t){},176:function(e,t,a){e.exports=a(488)},181:function(e,t,a){},184:function(e,t){},207:function(e,t){},209:function(e,t){},260:function(e,t){},261:function(e,t){},305:function(e,t){},307:function(e,t){},356:function(e,t){},399:function(e,t,a){var n={"./2C.png":400,"./2D.png":401,"./2H.png":402,"./2S.png":403,"./3C.png":404,"./3D.png":405,"./3H.png":406,"./3S.png":407,"./4C.png":408,"./4D.png":409,"./4H.png":410,"./4S.png":411,"./5C.png":412,"./5D.png":413,"./5H.png":414,"./5S.png":415,"./6C.png":416,"./6D.png":417,"./6H.png":418,"./6S.png":419,"./7C.png":420,"./7D.png":421,"./7H.png":422,"./7S.png":423,"./8C.png":424,"./8D.png":425,"./8H.png":426,"./8S.png":427,"./9C.png":428,"./9D.png":429,"./9H.png":430,"./9S.png":431,"./AC.png":432,"./AD.png":433,"./AH.png":434,"./AS.png":435,"./BACK.png":436,"./JC.png":437,"./JD.png":438,"./JH.png":439,"./JS.png":440,"./KC.png":441,"./KD.png":442,"./KH.png":443,"./KS.png":444,"./QC.png":445,"./QD.png":446,"./QH.png":447,"./QS.png":448,"./TC.png":449,"./TD.png":450,"./TH.png":451,"./TS.png":452,"./extra/aces.png":453,"./extra/back.png":454,"./extra/bridge-back-blue.png":455,"./extra/bridge-back-gray.png":456,"./extra/bridge-back-green.png":457,"./extra/bridge-back-purple.png":458,"./extra/bridge-back-red.png":459,"./extra/bridge-back-yellow.png":460,"./extra/bridge-backs.png":461,"./extra/honor-clubs.png":462,"./extra/honor-diamonds.png":463,"./extra/honor-hearts.png":464,"./extra/honor-spades.png":465};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=399},466:function(e,t,a){var n={"./black.png":467,"./blue.png":468,"./green.png":469,"./red.png":470,"./white.png":471};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=466},472:function(e,t,a){var n={"./burlap.png":473,"./cardboard.png":474,"./default-light.png":475,"./default.png":476,"./fabric.png":477,"./felt.png":478,"./leather.png":479,"./noise.png":480,"./paper.png":481,"./pinstripe.png":482,"./slate.png":483,"./subtle.png":484,"./suede.png":485,"./twill.png":486};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=472},488:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(171),s=a.n(l),o=(a(181),a(5)),c=a.n(o),i=a(24),u=a(172),p=a(173),d=a(174),g=a(175),m=a(33),h=a(56),y=a(25),_=(a(487),new Intl.NumberFormat),b={game_address:window.location.hash.replace("#",""),all_rooms:[],community_cards:[],my_hand:[{},{}],player_a_hand:[{},{}],player_b_hand:[{},{}],player_a:"",player_a_bet:0,player_a_wallet:0,player_b:"",player_b_bet:0,player_b_wallet:0,stage:"",turn:""};function f(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,l=e.suit,s=e.value;return e.value&&e.suit?(l=l[0],t="Two"===s?"2":"Three"===s?"3":"Four"===s?"4":"Five"===s?"5":"Six"===s?"6":"Seven"===s?"7":"Eight"===s?"8":"Nine"===s?"9":"Ten"===s?"10":s[0],a?r.a.createElement(y.Card,{key:n,face:t,suit:l}):{face:t,suit:l}):a?r.a.createElement(y.Card,{key:n}):{}}var v=function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state=Object.assign({},b),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,r,l,s,o,u,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.onhashchange=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.setState({game_address:window.location.hash.replace("#","")}),""!==window.location.hash){e.next=4;break}return p.setState(Object.assign({},b)),e.abrupt("return");case 4:return e.prev=4,e.next=7,l.queryContractSmart(p.state.game_address,{get_my_hand:{secret:234}});case 7:t=e.sent,p.setState({my_hand:t}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])}))),(t=localStorage.getItem("mnemonic"))||(t=h.generateMnemonic(),localStorage.setItem("mnemonic",t)),t="web use october receive enforce desk stick arena toast vacuum swear spike about company dragon amused various glide ball maze anxiety lake umbrella light",(a=localStorage.getItem("tx_encryption_seed"))?a=Uint8Array.from(JSON.parse("[".concat(a,"]"))):(a=m.EnigmaUtils.GenerateNewSeed(),localStorage.setItem("tx_encryption_seed",a)),e.next=8,m.Secp256k1Pen.fromMnemonic(t);case 8:n=e.sent,r=m.pubkeyToAddress(m.encodeSecp256k1Pubkey(n.pubkey),"secret"),l=new m.SigningCosmWasmClient("https://bootstrap.int.testnet.enigma.co",r,(function(e){return n.sign(e)}),a,{init:{amount:[{amount:"0",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"0",denom:"uscrt"}],gas:"500000"}}),this.setState({secretJsClient:l,myWalletAddress:r,mnemonic:t}),s=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getContracts(9);case 2:t=e.sent,p.setState({all_rooms:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout(s,0),setInterval(s,1e3),setTimeout(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==window.location.hash){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.queryContractSmart(p.state.game_address,{get_my_hand:{secret:234}});case 5:t=e.sent,p.setState({my_hand:t}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])}))),0),o=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getAccount(r);case 2:(t=e.sent)?p.setState({myWalletBalance:"(".concat(_.format(+t.balance[0].amount/1e6)," SCRT)")}):p.setState({myWalletBalance:"(No funds)"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout(o,0),setInterval(o,1e4),u=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==window.location.hash){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.queryContractSmart(p.state.game_address,{get_public_data:{}});case 5:0===(t=e.sent).player_a_hand.length&&(t.player_a_hand=[{},{}]),0===t.player_b_hand.length&&(t.player_b_hand=[{},{}]),r===t.player_a&&p.setState({player_a_hand:p.state.my_hand,player_b_hand:t.player_b_hand}),r===t.player_b?p.setState({player_a_hand:t.player_a_hand,player_b_hand:p.state.my_hand}):p.setState({player_a_hand:t.player_a_hand,player_b_hand:t.player_b_hand}),p.setState({community_cards:t.community_cards,player_a:t.player_a,player_a_bet:t.player_a_bet,player_a_wallet:t.player_a_wallet,player_b:t.player_b,player_b_bet:t.player_b_bet,player_b_wallet:t.player_b_wallet,stage:t.stage,starter:t.starter,turn:t.turn}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),setTimeout(u,0),setInterval(u,3e3);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(""===window.location.hash)return r.a.createElement("div",{style:{color:"white"}},r.a.createElement(y.Table,null,r.a.createElement("center",null,r.a.createElement("div",null,r.a.createElement("input",{id:"new-room-name"})," ",r.a.createElement("button",{type:"button",onClick:function(){e.state.secretJsClient.instantiate(9,{},document.getElementById("new-room-name").value).then(console.log).catch(console.log),document.getElementById("new-room-name").value=""}},"Create!")),r.a.createElement("br",null),r.a.createElement("div",null,"All rooms"),this.state.all_rooms.map((function(e,t){return r.a.createElement("div",{key:t},e.label,": ",r.a.createElement("a",{href:"#"+e.address},e.address))})))));var t=this.state.stage;t.includes("EndedWinner")?(t=t.replace("EndedWinner",""),t="Player ".concat(t," Wins!")):t.includes("EndedDraw")?t="It's a Tie!":"WaitingForPlayersToJoin"===t?t="Waiting for players":t&&(t+=" betting round");var a="Player A",n="->";this.state.turn===this.state.player_b&&(a="Player B",n="<-"),a="Turn: "+a,this.state.stage&&!this.state.stage.includes("Ended")||(a="",n=""),this.state.turn||(a="",n="");var l="";return this.state.game_address&&(l="Room: "+this.state.game_address),r.a.createElement("div",{style:{color:"white"}},r.a.createElement(y.Table,null,r.a.createElement("div",{style:{position:"absolute",top:0,left:0,padding:10}},r.a.createElement("div",null,"You: ",this.state.myWalletAddress," ",this.state.myWalletBalance)),r.a.createElement("div",{style:{position:"absolute",top:0,right:0,padding:10}},r.a.createElement("a",{href:"#"},"Return to loby")),r.a.createElement("div",{style:{position:"absolute",left:"35vw"}},r.a.createElement("center",null,r.a.createElement("div",null,l),r.a.createElement("div",null,t),r.a.createElement("div",null,a),r.a.createElement("div",null,n)),r.a.createElement("br",null),this.state.community_cards.map((function(e,t){return f(e,!0,t)})),r.a.createElement("center",null,r.a.createElement("div",{style:{padding:35}},r.a.createElement("span",{style:{marginRight:250}},"Total Bet: ",_.format(this.state.player_a_bet)),r.a.createElement("span",null,"Total Bet: ",_.format(this.state.player_a_bet))))),r.a.createElement("center",null,r.a.createElement("div",{style:{position:"absolute",bottom:0,right:0,padding:10}},r.a.createElement("div",null,"Player A",this.state.player_a===this.state.myWalletAddress?" (You)":""),r.a.createElement("div",null,"Credits left: ",_.format(this.state.player_a_wallet)),r.a.createElement("div",null,this.state.player_a))),r.a.createElement(y.Hand,{style:{position:"absolute",right:"35vw"},cards:this.state.player_a_hand.map((function(e){return f(e)}))}),r.a.createElement("center",null,r.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,padding:10}},r.a.createElement("div",null,"Player B"," ",this.state.player_b===this.state.myWalletAddress?" (You)":""),r.a.createElement("div",null,"Credits left: ",_.format(this.state.player_b_wallet)),r.a.createElement("div",null,this.state.player_b))),r.a.createElement(y.Hand,{style:{position:"absolute",left:"23vw"},cards:this.state.player_b_hand.map((function(e){return f(e)}))})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.fba0fc60.chunk.js.map